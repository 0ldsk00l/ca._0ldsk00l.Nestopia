diff -ur nestopia-3/source/unix/main.cpp nestopia-modified/source/unix/main.cpp
--- nestopia-3/source/unix/main.cpp	2017-09-03 16:32:25.000000000 -0400
+++ nestopia-modified/source/unix/main.cpp	2017-09-14 13:03:12.127266380 -0400
@@ -477,7 +477,7 @@
 	snprintf(nstpaths.nstdir, sizeof(nstpaths.nstdir), "");
 #else
 	// create system directory if it doesn't exist
-	snprintf(nstpaths.nstdir, sizeof(nstpaths.nstdir), "%s/.nestopia/", getenv("HOME"));
+	snprintf(nstpaths.nstdir, sizeof(nstpaths.nstdir), "%s/nestopia/", getenv("XDG_CONFIG_HOME"));
 	if (mkdir(nstpaths.nstdir, 0755) && errno != EEXIST) {	
 		fprintf(stderr, "Failed to create %s: %d\n", nstpaths.nstdir, errno);
 	}
